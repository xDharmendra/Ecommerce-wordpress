{"version":3,"file":"afterpay-message.js","mappings":"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","sources":["webpack://wcStripeModules/./assets/js/frontend/bnpl-messages/afterpay/afterpay-mixin.js","webpack://wcStripeModules/external window [\"wcStripeModules\",\"checkoutModules\"]","webpack://wcStripeModules/external window [\"wcStripeModules\",\"messageModules\"]","webpack://wcStripeModules/external window [\"wc_stripe\"]","webpack://wcStripeModules/webpack/bootstrap","webpack://wcStripeModules/./assets/js/frontend/bnpl-messages/afterpay/index.js"],"sourcesContent":["export default function (Base) {\n    return class Afterpay extends Base {\n\n        getMessageOptions() {\n            return {\n                ...super.getMessageOptions(),\n                isEligible: this.isEligible(this.getTotalPrice())\n            }\n        }\n\n        isEligible(price) {\n            return (price >= this.getMin() && price <= this.getMax());\n        }\n\n        getMin() {\n            const currency = this.gateway.get_currency();\n            const params = this.gateway.params.requirements[currency];\n            return params ? params[1] : 0;\n        }\n\n        getMax() {\n            const currency = this.gateway.get_currency();\n            const params = this.gateway.params.requirements[currency];\n            return params ? params[2] : 0;\n        }\n    }\n}\n\n","module.exports = window[\"wcStripeModules\"][\"checkoutModules\"];","module.exports = window[\"wcStripeModules\"][\"messageModules\"];","module.exports = window[\"wc_stripe\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import {BaseGateway, ProductGateway, stripe} from '@paymentplugins/wc-stripe';\nimport {getPaymentMethod} from '@paymentplugins/wc-stripe/checkout';\nimport {\n    CartMessage,\n    CheckoutMessage,\n    CategoryMessage,\n    ProductMessage\n} from '@paymentplugins/wc-stripe/message-modules';\nimport Mixin from './afterpay-mixin';\n\nconst elementType = 'afterpayClearpayMessage';\nconst isSupported = (gateway) => {\n    const {currencies = [], currency} = gateway.params;\n    return currencies.includes(currency);\n}\n\nclass AfterpayGateway extends BaseGateway {\n    constructor(params) {\n        super(params);\n    }\n};\n\nif (typeof wc_stripe_afterpay_cart_params !== 'undefined') {\n    const clazz = Mixin(CartMessage);\n    new clazz(new AfterpayGateway(wc_stripe_afterpay_cart_params), {\n        elementType,\n        elementId: 'wc-stripe-afterpay-cart-msg',\n        containerId: 'wc-stripe-afterpay-cart-container',\n        isSupported\n    });\n}\nif (typeof wc_stripe_afterpay_product_params !== 'undefined') {\n    Object.assign(AfterpayGateway.prototype, ProductGateway.prototype);\n    new ProductMessage(new AfterpayGateway(wc_stripe_afterpay_product_params), {\n        elementType,\n        elementId: 'wc-stripe-afterpay-product-msg',\n        isSupported\n    });\n}\nif (typeof wc_stripe_local_payment_params !== 'undefined') {\n    if (wc_stripe_local_payment_params?.gateways?.stripe_afterpay) {\n        const clazz = Mixin(CheckoutMessage);\n        new clazz(getPaymentMethod('stripe_afterpay'), {\n            elementType,\n            elementId: 'wc-stripe-afterpay-message-container',\n            isSupported\n        });\n    }\n}\nif (typeof wc_stripe_bnpl_shop_params !== 'undefined') {\n    new CategoryMessage(stripe, wc_stripe_bnpl_shop_params, {\n        id: 'stripe_afterpay',\n        elementType,\n        isSupported: (instance) => {\n            const {currency} = instance.data;\n            return instance.data.stripe_afterpay.supportedCurrencies.includes(currency);\n        },\n        isSupportedProduct: (instance, product) => {\n            const price = product.price;\n            const {currency} = instance.data;\n            const {hideIneligible} = instance.data.stripe_afterpay;\n            const [country, min, max] = instance.data[instance.id].requiredParams[currency];\n            return !hideIneligible || min <= price && price <= max;\n        }\n    });\n}"],"names":["Base","_Base","Afterpay","_classCallCheck","arguments","_inherits","key","value","_objectSpread","_get","_getPrototypeOf","prototype","call","isEligible","this","getTotalPrice","price","getMin","getMax","currency","gateway","get_currency","params","requirements","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","obj","_wcStripe","require","_checkout","_messageModules","_afterpayMixin","__esModule","default","_arrayLikeToArray","arr","len","length","i","arr2","Array","_callSuper","t","o","e","self","_typeof","TypeError","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","Boolean","valueOf","Object","setPrototypeOf","getPrototypeOf","bind","__proto__","_setPrototypeOf","p","_wc_stripe_local_paym","elementType","isSupported","_gateway$params","_gateway$params$curre","currencies","includes","AfterpayGateway","_BaseGateway","instance","Constructor","subClass","superClass","create","writable","configurable","defineProperty","BaseGateway","wc_stripe_afterpay_cart_params","Mixin","CartMessage","elementId","containerId","wc_stripe_afterpay_product_params","assign","ProductGateway","ProductMessage","wc_stripe_local_payment_params","gateways","stripe_afterpay","CheckoutMessage","getPaymentMethod","wc_stripe_bnpl_shop_params","CategoryMessage","stripe","id","data","supportedCurrencies","isSupportedProduct","product","hideIneligible","_instance$data$instan","requiredParams","isArray","_arrayWithHoles","r","l","Symbol","iterator","n","u","a","f","next","done","push","return","_iterableToArrayLimit","minLen","toString","slice","name","from","test","_unsupportedIterableToArray","_nonIterableRest","min","max"],"sourceRoot":""}